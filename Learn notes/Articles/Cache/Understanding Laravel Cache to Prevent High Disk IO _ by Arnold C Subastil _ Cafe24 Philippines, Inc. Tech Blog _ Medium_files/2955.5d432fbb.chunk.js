(self.webpackChunklite=self.webpackChunklite||[]).push([[2955],{2955:(e,t,n)=>{"use strict";n.d(t,{Xc:()=>Le,pt:()=>Ne,eP:()=>je,Dn:()=>ze,Dc:()=>We});var r=n(28655),o=n.n(r),i=n(67154),a=n.n(i),l=n(59713),s=n.n(l),c=n(71439),u=n(67294),d=n(63038),m=n.n(d),p=n(12291),g=n(93653),f=n(35848),v=n(53962),h=n(62806),E=n(71245),y=n(965),x=n(78820),b=n(73232),P=n(53976),S=n(34675),w=n(32262),I=n(57469),C=n(23824),_=n(29169),O=n(78181),k=n(64504),A=n(28309),R=n(14391),T=n(65347),M=n(67297),U=n(93394),D=n(39171),B=n(51064),L=n(55573),j=n(27952);function N(){var e=o()(["\n  fragment TruncatedPostCardEditorWriterButton_post on Post {\n    id\n    collection {\n      id\n      name\n      slug # Needed for rejectPostFromPub (not currently exposed as a reusable fragment)\n    }\n    allowResponses\n    clapCount\n    visibility\n    mediumUrl\n    responseDistribution\n    ...useIsPinnedInContext_post\n    ...CopyFriendLinkMenuItem_post\n    ...ClapMutation_post\n  }\n  ","\n  ","\n  ","\n"]);return N=function(){return e},e}var F=function(e){return{fill:e.baseColor.fill.normal,":hover":{fill:e.baseColor.fill.darker},":focus":{fill:e.baseColor.fill.darker}}},W=function(e){var t=e.post,n=e.publisherContext,r=e.isEditor,o=e.isWriter,i=e.creator,l=(0,A.Iq)(),s=(0,M.v9)((function(e){return e.config.authDomain})),c=t.id,d=t.collection,N=t.responseDistribution,W=t.visibility,V=t.mediumUrl,H=t.viewerEdge.shareKey,z=t.allowResponses,G=(0,P.V)({name:"enable_updated_three_dot_menu",placeholder:!1}),$=(0,S.Hk)().value,K=null==$?void 0:$.id,q=null==i?void 0:i.id,J=d||{id:"",name:""},Q=J.id,Y=J.name,Z=(0,B.O)(!1),X=m()(Z,3),ee=X[0],te=X[1],ne=X[2],re=(0,x.n_)(t,n),oe=m()(re,2),ie=oe[0],ae=oe[1],le=u.useState(""),se=m()(le,2),ce=se[0],ue=se[1],de=u.useCallback((function(){ne(),ae().then((function(e){var t=e.errors;t&&t.length&&t[0].message?ue(t[0].message):window.location.reload()}))}),[ne,ae,ue]),me=(0,E.yb)(t),pe=(0,B.O)(!1),ge=m()(pe,3),fe=ge[0],ve=ge[1],he=ge[2],Ee=u.useCallback((function(){me(d).then((function(){return window.location.reload()}))}),[Q,me]),ye=(0,g.j)(c),xe=m()(ye,1)[0],be=(0,B.O)(!1),Pe=m()(be,3),Se=Pe[0],we=Pe[1],Ie=Pe[2],Ce=u.useCallback((function(){xe().then((function(){return window.location.reload()}))}),[xe]),_e=N===R.Et.DISTRIBUTED,Oe=(0,B.O)(!1),ke=m()(Oe,3),Ae=ke[0],Re=ke[1],Te=ke[2],Me={buttonStyle:"ERROR",cancelText:"Cancel"},Ue="truncatedPostCardEditorWriterMenu",De="Delete story".concat(_e?" and response":""),Be=_e?b.Q:"Are you sure you want to delete this story?",Le="LOCKED"===W,je=!!G&&("User"===n&&o||"Collection"===n&&r),Ne=(0,p.I0)(),Fe=u.useCallback((function(e){return Ne((0,T.at)(e))}),[Ne]),We=(0,M.b$)((function(e){return e.multiVote.clapsPerPost})),Ve=(0,L.l)(We,t,t.viewerEdge),He=Ve.clapCount,ze=Ve.viewerClapCount,Ge=(0,y.CP)();return u.createElement(u.Fragment,null,u.createElement(O.QH,a()({},Me,{isVisible:fe,onConfirm:Ee,hide:he,titleText:"Remove story",confirmText:"Remove",isDestructiveAction:!0}),"Are you sure you want to remove this story from ",Y,"?"),u.createElement(O.QH,a()({},Me,{isVisible:Se,onConfirm:Ce,hide:Ie,titleText:De,confirmText:"Delete",isDestructiveAction:!0}),Be),u.createElement(O.QH,{buttonStyle:"STRONG",cancelText:"Cancel",isVisible:Ae,onConfirm:function(){var e=(0,j.d0A)(s,c);window.location.replace(e)},hide:Te,titleText:"Edit story and response",confirmText:"Continue",isDestructiveAction:!1},b.t),u.createElement(O.J2,{ariaId:Ue,hide:ne,isVisible:ee,popoverRenderFn:function(){return u.createElement(w.mX,null,u.createElement(w.Sl,null,_e?u.createElement(O.rU,{linkStyle:"SUBTLE",onClick:(0,D.B)(ne,Re)},"Edit story"):u.createElement(O.rU,{linkStyle:"SUBTLE",href:(0,j.d0A)(s,c)},"Edit story")),(r||o&&"User"===n)&&u.createElement(w.Sl,null,u.createElement(O.rU,{onClick:de},ie?"Unpin":"Pin"," story")),u.createElement(w.oK,null),u.createElement(w.Sl,null,u.createElement(O.rU,{href:(0,j.KIb)(s,c)},"Story settings")),u.createElement(w.Sl,null,u.createElement(O.rU,{href:(0,j.T0G)(s,c)},"Story stats")),G&&Le&&V&&H&&u.createElement(v.$,{post:t,shareKey:H}),u.createElement(w.oK,null),je?u.createElement(h.r,{hidePopover:ne,postId:t.id,allowResponses:z}):null,Q&&u.createElement(w.Sl,null,u.createElement(O.rU,{onClick:ve},"Remove story from publication")),o&&u.createElement(w.Sl,null,u.createElement(O.rU,{onClick:(0,D.B)(ne,we)},"Delete story")),G&&r&&!o&&u.createElement(u.Fragment,null,u.createElement(w.oK,null),K&&He&&ze&&ze>0?u.createElement(w.Sl,null,u.createElement(O.rU,{onClick:function(){return Ge(t,(null==$?void 0:$.id)||"",-ze),Fe({postId:t.id,clapCount:He-ze,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),void ne()}},"Undo applause for this post")):null,u.createElement(_.z,{targetUserId:q,postId:t.id,hidePopover:ne,viewerId:K}),u.createElement(f.qT,{hidePopover:ne,creator:i}),u.createElement(I.F,{hidePopover:ne,creator:i,viewer:$}),u.createElement(C.j,{hidePopover:ne,creator:i,viewer:$})))}},u.createElement(O.rU,{ariaControls:Ue,ariaExpanded:ee?"true":"false",ariaLabel:"More options",onClick:te},u.createElement(U.Z,{className:l(F)}))),u.createElement(O.FN,{isVisible:!!ce,hide:function(){return ue("")},duration:5e3},u.createElement(k.F,{scale:"M"},ce)))},V=(0,c.Ps)(N(),x.xt,v.g,y.JP);function H(){var e=o()(["\n  fragment TruncatedPostCardReaderButton_post on Post {\n    id\n    collection {\n      id\n    }\n    creator {\n      id\n    }\n    clapCount\n    ...ClapMutation_post\n  }\n  ","\n"]);return H=function(){return e},e}var z=function(e){return{fill:e.baseColor.fill.normal,":hover":{fill:e.baseColor.fill.darker},":focus":{fill:e.baseColor.fill.darker}}},G=function(e){var t=e.post,n=e.viewer,r=(0,A.Iq)(),o=t.creator,i=t.collection,a=null==o?void 0:o.id,l=null==i?void 0:i.id,s=(0,B.O)(!1),c=m()(s,3),d=c[0],g=c[1],v=c[2],h="truncatedPostCardReaderMenu",E=(0,S.rZ)().viewerId,x=(0,p.I0)(),b=u.useCallback((function(e){return x((0,T.at)(e))}),[x]),k=(0,M.b$)((function(e){return e.multiVote.clapsPerPost})),R=(0,L.l)(k,t,t.viewerEdge),D=R.clapCount,j=R.viewerClapCount,N=(0,y.CP)(),F=(0,P.V)({name:"enable_updated_three_dot_menu",placeholder:!1});if(F){if(!a)return null}else if(!l||!a)return null;var W=F?E&&D&&j&&j>0:null;return u.createElement(O.J2,{ariaId:h,hide:v,isVisible:d,popoverRenderFn:function(){return u.createElement(w.mX,null,!!W&&u.createElement(w.Sl,null,u.createElement(O.rU,{onClick:function(){return N(t,(null==n?void 0:n.id)||"",-j),b({postId:t.id,clapCount:D-j,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),void v()}},"Undo applause for this post")),u.createElement(_.z,{targetUserId:a,postId:t.id,hidePopover:v,viewerId:E}),u.createElement(f.qT,{hidePopover:v,creator:o}),u.createElement(I.F,{hidePopover:v,creator:o,viewer:n}),u.createElement(C.j,{hidePopover:v,creator:o,viewer:n}))}},u.createElement(O.rU,{ariaControls:h,ariaExpanded:d?"true":"false",ariaLabel:"More options",onClick:g},u.createElement(U.Z,{className:r(z)})))},$=(0,c.Ps)(H(),y.JP),K=n(73891);function q(){var e=o()(["\n  fragment TruncatedPostCardOverflowButton_post on Post {\n    creator {\n      id\n    }\n    ...TruncatedPostCardEditorWriterButton_post\n    ...TruncatedPostCardReaderButton_post\n  }\n  ","\n  ","\n"]);return q=function(){return e},e}var J=function(e){var t,n=e.post,r=e.publisherContext,o=(0,S.Hk)().value,i=(0,K.g)(null===(t=n.collection)||void 0===t?void 0:t.id).viewerEdge,a=!(null==i||!i.isEditor),l=n.creator,s=(null==o?void 0:o.id)===(null==l?void 0:l.id);return o?a||s?u.createElement(W,{post:n,isEditor:a,isWriter:s,publisherContext:r,creator:l}):u.createElement(G,{post:n,viewer:o}):null},Q=(0,c.Ps)(q(),V,$),Y=(n(50361),n(4743));function Z(){var e=o()(["\n  fragment NormalizeSequenceBodyModel_bodyModel on RichText {\n    ...GetFeaturedImageIndex_bodyModel\n    ...GetTitleIndexMap_bodyModel\n    sections {\n      name\n      startIndex\n    }\n  }\n  ","\n  ","\n"]);return Z=function(){return e},e}(0,c.Ps)(Z(),Y.ke,Y.k);var X=n(43198);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e,t){var n,r=null!==(n=(0,Y.LI)(e).titleIndex)&&void 0!==n?n:(0,X.s)(e,X.j);return e.map((function(e,n){return e.type===R.NJ.IMG?function(e,t){return t?te(te({},e),{},{href:t}):e}(e,t):n===r?function(e,t){var n;return t?te(te({},e),{},{markups:[{anchorType:R.yG.LINK,type:R.Jh.A,start:0,end:(null==e||null===(n=e.text)||void 0===n?void 0:n.length)||0,href:t,userId:null,linkMetadata:null}]}):e}(e,t):e}))},re=n(87508),oe=n(78415),ie=n(30570),ae=n(86156),le=n(15789),se=n(72846),ce=n(88065),ue=n(85828),de=n(99046),me=n(93912),pe=n(50077),ge=n(33819),fe=n(27572),ve=n(72955);n(95760);var he=u.createContext(null),Ee=function(e){var t=e.event,n=e.children;return u.createElement(he.Provider,{value:{event:t}},n)},ye=n(96879),xe=n(27390);function be(){var e=o()(["\n  fragment TruncatedPostCard_post on Post {\n    id\n    creator {\n      ...TruncatedPostCard_user\n    }\n    collection {\n      ...CardByline_collection\n    }\n    extendedPreviewContent(\n      truncationConfig: {\n        previewParagraphsWordCountThreshold: 100\n        minimumWordLengthForTruncation: 150\n        truncateAtEndOfSentence: true\n        showFullImageCaptions: true\n        shortformPreviewParagraphsWordCountThreshold: 30\n        shortformMinimumWordLengthForTruncation: 30\n      }\n    ) {\n      bodyModel {\n        ...TruncatedPostCard_bodyModel\n      }\n      isFullContent\n    }\n    firstPublishedAt\n    isLocked\n    isShortform\n    latestPublishedAt\n    mediumUrl\n    postResponses {\n      count\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    readingTime\n    title\n    visibility\n    inResponseToPostResult {\n      ...TruncatedPostCard_inResponseToPostPreview_postResult\n    }\n    ...CardByline_post\n    ...TruncatedPostCardOverflowButton_post\n    ...MultiVote_post\n    ...ResponsesIconButton_post\n    ...PostFooterSocialPopover_post\n    ...BookmarkButton_post\n    ...PostPresentationTracker_post\n    ...PostScrollTracker_post\n    ...TruncatedPostCard_inResponseToPostPreview_mediaResource\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return be=function(){return e},e}function Pe(){var e=o()(["\n  fragment TruncatedPostCard_inResponseToPostPreview_mediaResource on Post {\n    ...InResponseToPostPreview_mediaResource\n  }\n  ","\n"]);return Pe=function(){return e},e}function Se(){var e=o()(["\n  fragment TruncatedPostCard_inResponseToPostPreview_postResult on PostResult {\n    ...InResponseToPostPreview_postResult\n  }\n  ","\n"]);return Se=function(){return e},e}function we(){var e=o()(["\n  fragment TruncatedPostCard_user on User {\n    __typename\n    name\n    username\n    ...CardByline_user\n  }\n  ","\n"]);return we=function(){return e},e}function Ie(){var e=o()(["\n  fragment TruncatedPostCard_bodyModel on RichText {\n    ...PostBody_bodyModel\n  }\n  ","\n"]);return Ie=function(){return e},e}function Ce(){var e=o()(["\n  fragment TruncatedPostCard_interactivePostBody_post on Post {\n    ...InteractivePostBody_post\n    ...Wall_post\n  }\n  ","\n  ","\n"]);return Ce=function(){return e},e}function _e(){var e=o()(["\n  fragment TruncatedPostCard_meteringInfo on MeteringInfo {\n    ...Wall_meteringInfo\n  }\n  ","\n"]);return _e=function(){return e},e}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=function(e){return{border:0,height:"1px",backgroundColor:e.baseColor.border.lighter,margin:0}},Re={xs:{marginTop:"32px"},sm:{marginTop:"32px"},md:{marginTop:"40px"},lg:{marginTop:"40px"},xl:{marginTop:"40px"}},Te={xs:{marginTop:"30px",marginBottom:"30px"},sm:{marginTop:"30px",marginBottom:"30px"},md:{marginTop:"50px",marginBottom:"50px"},lg:{marginTop:"50px",marginBottom:"50px"},xl:{marginTop:"50px",marginBottom:"50px"}},Me=[R.NJ.H3,R.NJ.H4],Ue=[R.NJ.IMG,R.NJ.IFRAME],De=function(e){var t=e.isShortformMeteredWithMedia,n=e.onReadMore,r=e.showReadMore,o=e.post,i=e.publisher,a=(0,P.V)({name:"enable_inline_expansion",placeholder:!1});if(!r)return null;var l=o.mediumUrl,s=o.readingTime;if(!l)return null;var c="".concat((0,xe.Vd)(s||0)," min read"),d="Collection"!==i.__typename&&o.collection&&!a?"Read more in ".concat(o.collection.name):"Read more",m=(0,ye.Rk)(l,{readmore:"1"});return u.createElement(O.xu,{marginTop:t?"24px":"34px"},u.createElement(O.rU,{href:m,onClick:n},u.createElement(k.F,{color:"ACCENT",scale:"M"},d," ",c?" · ".concat(c):"")))},Be=function(e){var t=e.href,n=e.onReadMore,r=(0,A.Iq)();return u.createElement(O.rU,{href:t,onClick:n},u.createElement("div",{className:r((function(e){return{position:"absolute",top:0,backgroundColor:e.backgroundColor,height:"100%",width:"100%",opacity:"80%",zIndex:"1"}}))}))},Le=u.forwardRef((function(e,t){var n,r,o,i,l=e.excludeMargin,c=void 0!==l&&l,d=e.includeTopDivider,m=void 0===d||d,p=e.includeBottomDivider,g=void 0!==p&&p,f=e.isFirst,v=void 0!==f&&f,h=e.publisher,E=e.post,y=e.hideAuthor,x=void 0!==y&&y,b=e.index,P=e.maxWidthSize,S=void 0===P?"inset":P,w=e.showInResponseToPostPreview,I=void 0!==w&&w,C=e.mayShowPinned,_=void 0!==C&&C,k=e.onReadMore,R=e.customPostBody,T=e.showReadMore,M=void 0===T||T,U=e.withInlineExpansion,D=void 0!==U&&U,B=e.isActiveExpandedPost,L=e.expandedPost,j=void 0===L?null:L,N=e.meteringInfo,F=(0,A.Iq)(),W=u.useRef(null);(0,ve.Vj)(W,E);var V,H=(0,ie.sK)(),z=H.postInView,G=H.expandedPostId,$=u.useContext(ae.f).openSidebar,K=(null==E||null===(n=E.postResponses)||void 0===n?void 0:n.count)||0,q=E.id,Q=E.clapCount,Z=E.collection,X=E.extendedPreviewContent,ee=E.isLocked,te=E.firstPublishedAt,he=E.latestPublishedAt,xe=E.mediumUrl,be=E.pinnedAt,Pe=E.pinnedByCreatorAt,Se=E.visibility,we=E.inResponseToPostResult,Ie=E.inResponseToMediaResource,Ce=(0,fe.Lk)(),_e=(0,fe.f0)(ke(ke({},Ce),{},{index:b}));xe&&Ce&&(V=(0,ye.Rk)(xe,{source:_e}));var Oe=null==E||null===(r=E.extendedPreviewContent)||void 0===r?void 0:r.bodyModel;if(!Oe)return null;var Le=ke(ke({},Oe),{},{paragraphs:ne(Oe.paragraphs,V||xe)}),je=!!be&&!!he,Ne=je?he:te,Fe=je?"Updated ":"",We=!(null==E||null===(o=E.extendedPreviewContent)||void 0===o||!o.isFullContent),Ve=!We,He=m&&!v&&u.createElement("hr",{className:F(Ae)}),ze=g&&u.createElement("hr",{className:F(Ae)}),Ge=v?Re:Te,$e={postId:q,collectionId:null==Z?void 0:Z.id,isFullPost:null==X?void 0:X.isFullContent,postVisibility:(0,me.z)(Se),context:2,pinned:Boolean(be)},Ke="User"===(null==h?void 0:h.__typename)&&E.collection?E.collection:E.creator,qe="User"===(null==h?void 0:h.__typename)?Pe:be,Je="number"==typeof(0,Y.LI)(Le.paragraphs).titleIndex?void 0:40,Qe=u.createElement(u.Fragment,{key:"card-byline-and-mixtape"},Ke&&u.createElement(pe.u_,{publisher:Ke,hideAuthor:x,href:xe||void 0,isOneLine:!0,datePrefix:Fe,publishedAt:Ne,showStar:!!ee,showPinned:_&&!!qe,post:E}),I&&u.createElement(oe.CV,{inResponseToPostResult:we,inResponseToMediaResource:Ie,padding:"24px 0 0",postPreviewMarginBottom:Je})),Ye=Le.paragraphs[0]&&Ue.includes(Le.paragraphs[0].type)&&Le.paragraphs[0].name,Ze=Le.paragraphs[1]&&Me.includes(Le.paragraphs[1].type)&&Le.paragraphs[1].name,Xe=h||E.creator,et=ee&&(2===Le.paragraphs.length||3===Le.paragraphs.length)&&1===Oe.sections.length&&Ze&&Ye,tt=Le.paragraphs[0],nt=Le.paragraphs[1],rt={insertType:"BYLINE",order:"before",component:Qe},ot={insertType:"MEDIA_OVERLAY",order:"after",component:u.createElement(Be,{key:"shortform-media-overlay-insert",href:V||xe,onReadMore:k})},it=null!=nt&&nt.name&&null!=tt&&tt.name?(i={},s()(i,nt.name,[rt]),s()(i,tt.name,[ot]),i):{},at=et&&!B;return u.createElement(fe.cW,{source:{index:b},extendSource:!0},u.createElement(O.xu,a()({boxSizing:"content-box",marginLeft:"auto",marginRight:"auto"},c?{}:Ge),u.createElement(fe.cW,{source:{index:b},extendSource:!0},u.createElement(O.Pm,{size:c?"full":S},He,u.createElement(ve.ot,{post:E,presentationContext:"POST_PREVIEW",isDisplayingFullPost:!Ve,suppressedEvents:We?"VIEWED":void 0,reportClientViewedOnFullPost:!0,postClientViewedContext:2,pinned:!!be},u.createElement(O.xu,{sm:{marginTop:He?et?"48px":"24px":void 0},marginTop:He?et?"72px":"24px":void 0},Ke&&!et&&Qe,u.createElement(O.xu,{marginTop:et?"":"12px",ref:W},u.createElement(Ee,{event:{eventName:"post.permalinkClicked",data:ke(ke({},$e),{},{interfaceElement:"title"})}},u.createElement(u.Fragment,null,R?u.createElement(u.Fragment,null,R):D?u.createElement(le.b,{isAuroraPostPageEnabled:!0,post:B?j:null,inlinePost:E,ref:t,richTextStyle:at?"SHORTFORM_CARD":"CARD",postBodyInserts:at?it:null,markedUpBodyModel:Le}):u.createElement(se.yO,{bodyModel:Le,isAuroraPostPageEnabled:!0,richTextStyle:et?"SHORTFORM_CARD":"CARD",postBodyInserts:et?it:null}))))),Ve&&xe&&Xe&&u.createElement(De,{isShortformMeteredWithMedia:!!et,onReadMore:k,post:E,publisher:Xe,showReadMore:M}),j&&N&&u.createElement(re.cu,{post:j,meteringInfo:N,excludePadding:!0}),E&&u.createElement(O.xu,{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:et?"32px":"36px"},u.createElement(O.xu,{display:"flex",alignItems:"center"},u.createElement(de.S,{post:E,buttonStyle:"SUBTLE",susiEntry:"clap_preview",hasDialog:!0,shouldHideClapsText:!0}),u.createElement(O.xu,{display:"flex",alignItems:"center",xl:{marginLeft:Q?"24px":"12px"},lg:{marginLeft:Q?"24px":"12px"},md:{marginLeft:Q?"16px":"8px"},sm:{marginLeft:Q?"16px":"8px"},xs:{marginLeft:Q?"16px":"8px"},paddingTop:"3px"},u.createElement(O.rU,{href:xe+"?responsesOpen=true"},u.createElement(ge.h,{location:"preview",postId:E.id,responsesCount:K,showResponsesSidebar:$&&z&&G===E.id?function(e){e.preventDefault(),$()}:function(){},allowResponses:E.allowResponses,isLimitedState:E.isLimitedState,responsesCountColor:"DARKER"})))),u.createElement(O.xu,{display:"flex",alignItems:"center",justifyContent:"flex-end"},u.createElement(O.xu,{marginRight:"8px"},u.createElement(ue.$,{post:E,source:{name:"collection_home"}})),u.createElement(O.xu,{marginRight:"8px"},u.createElement(ce.e,{post:E,susiEntry:"bookmark_preview"})),(null==h?void 0:h.__typename)&&u.createElement(O.xu,{marginRight:"-4px"},u.createElement(J,{post:E,publisherContext:h.__typename})))))))),g&&u.createElement(O.Pm,{size:c?"full":S},ze))})),je=(0,c.Ps)(_e(),re.Y6),Ne=(0,c.Ps)(Ce(),le.U,re.rU),Fe=(0,c.Ps)(Ie(),se.Pk),We=(0,c.Ps)(we(),pe.br),Ve=(0,c.Ps)(Se(),oe.zJ),He=(0,c.Ps)(Pe(),oe.KI),ze=(0,c.Ps)(be(),pe.yu,Fe,We,Q,de.x,ge.K,ue.u,ce.z,ve.h_,ve.kH,pe.We,Ve,He)},87508:(e,t,n)=>{"use strict";n.d(t,{cu:()=>me,Y6:()=>de,rU:()=>ue});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(78181),s=n(67122),c=function(e){var t=e.children;return a.createElement(a.Fragment,null,a.createElement(l.xu,{marginTop:"-240px",background:"linear-gradient(".concat((0,s.l9)(0),",\n        ").concat((0,s.l9)(.5),",\n        ").concat((0,s.l9)(1),")"),height:"250px",position:"relative",width:"100%"}),a.createElement(l.xu,{backgroundColor:"BACKGROUND"},a.createElement(l.xu,{margin:"auto",maxWidth:"760px",sm:{margin:"0 24px 0"}},t)))},u=n(51562),d=n(32149),m=n(71542),p=n(34675),g=n(324),f=n(62181),v=n(8558),h=n(64504),E=n(98024),y=n(27599),x=n(27572),b=n(2874),P=n(85277),S=n(67297),w=n(6522),I=n(96879),C=n(27952);function _(){var e=o()(["\n  fragment MemberOnlyWall_post on Post {\n    id\n    creator {\n      id\n      name\n      username\n      ...useShouldShowEntityDrivenSubscription_creator\n      ...EntityDrivenSubscriptionLandingPageScreen_writer\n    }\n  }\n  ","\n  ","\n"]);return _=function(){return e},e}var O="entity-driven-sub-member-only-wall",k=function(e){return(0,p.Hk)().value?null:a.createElement(l.xu,{display:"flex",justifyContent:"center"},a.createElement(E.F,{scale:"L"},a.createElement(l.xu,{display:"flex",flexDirection:"row",xs:{paddingBottom:"20px"},sm:{paddingBottom:"20px"},md:{paddingBottom:"40px"},lg:{paddingBottom:"40px"},xl:{paddingBottom:"40px"}},a.createElement(l.xu,{paddingRight:"4px"},"Already a member?"),a.createElement(f.R9,{operation:"login",linkStyle:"OBVIOUS",susiEntry:"entity_driven_subscription_member_only_wall",post:e},"Sign in"))))},A=function(e){var t,n,r,o=e.post,i=(0,P.w)(),s=(0,y.Av)(),d=(0,S.v9)((function(e){return e.config.authDomain})),f=(0,S.v9)((function(e){return e.config.productName})),b=(0,p.Hk)().value,_=null==o?void 0:o.creator,A=null==_?void 0:_.viewerEdge.isAllowEdsEnabled,R=null!==(t=null==b?void 0:b.mediumMemberAt)&&void 0!==t&&t,T=null!==(n=null==_?void 0:_.viewerIsUser)&&void 0!==n&&n,M=(null==_?void 0:_.id)||"",U=null==_?void 0:_.name,D=(0,C.o2w)(d,null==o?void 0:o.id),B=null!==(r=null==_?void 0:_.imageId)&&void 0!==r?r:w.gG,L=T&&A&&R,j=a.useCallback((function(){s.event("entityDrivenSubCallToAction.clicked",{userId:null==b?void 0:b.id,entityId:M}),L&&i({message:"You're already a ".concat(f," member."),toastStyle:"MESSAGE"})}),[_,b,d]),N=(0,I.Rk)((0,C.c5p)(d),{subscribeToUserId:M}),F=null!=b&&b.mediumMemberAt?D:N,W=b?"li-".concat(O):"lo-".concat(O);return a.createElement(g.N8,null,a.createElement(c,null,a.createElement(x.cW,{source:{name:"entity_driven_subscription_member_only_wall",postId:o.id,susiEntry:"entity_driven_subscription_member_only_wall"}},a.createElement(l.xu,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},a.createElement(l.xu,{display:"flex",flexDirection:"column",padding:"20px 0",sm:{paddingTop:"28px",paddingBottom:"32px",textAlign:"center"},maxWidth:"680px"},a.createElement(l.Pm,{size:"full"},a.createElement(l.xu,{display:"flex",paddingBottom:"32px",justifyContent:"center"},a.createElement(m.s,null,a.createElement(v.zN,{miroId:B,alt:U||"",diameter:80,freezeGifs:!1})),a.createElement(m.e,null,a.createElement(v.zN,{miroId:B,alt:U||"",diameter:80,freezeGifs:!1}))),a.createElement(l.xu,{paddingBottom:"20px"},a.createElement(h.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},a.createElement(u.W,{featureString:W,target:"title-copy"},b?"".concat(b.name,", read more from ").concat(U," — and everything else on Medium."):"Read more from ".concat(U," — and everything else on Medium.")))),a.createElement(l.xu,{paddingBottom:"20px"},a.createElement(E.F,{scale:"L",color:"DARKER"},a.createElement(u.W,{featureString:W,target:"description-copy"},U," has made this story exclusive to members. Upgrade to keep reading."))),a.createElement(l.xu,{paddingBottom:"20px"},a.createElement(l.zx,{size:"LARGE",onClick:j,buttonStyle:"STRONG",href:F},"Upgrade")),a.createElement(k,{post:o})))))))},R=(0,i.Ps)(_(),d.G,b._k),T=n(12291),M=n(53976),U=n(37258),D=n(19608),B=n(27168),L=n(48881),j=n(62876),N=n(96907),F=n(33572);function W(){var e=o()(["\n  fragment PayWall_post on Post {\n    id\n    creator {\n      name\n    }\n  }\n"]);return W=function(){return e},e}var V=function(e){var t=e.optimizelyFeatureString,n=e.post,r=e.showTrialPaywall,o=e.authDomain,i=(0,p.Hk)().value;return a.createElement(x.cW,{source:{dimension:"post_limit",name:"upgrade_membership",postId:n.id}},a.createElement(N.M,null,a.createElement(l.xu,{display:"inline-block",textAlign:"center"},a.createElement(u.W,{featureString:t,target:r?"trial-upsell-button":"upsell-button-".concat(i&&i.hasPastMemberships?"resume-membership":"upgrade")},a.createElement(j.a,{isButton:!0,buttonStyle:r?"BRAND":"STRONG",width:r||i&&i.hasPastMemberships?"182px":"104px",redirectUrl:(0,C.c5p)(o)},r?"Start your free trial":i&&i.hasPastMemberships?"Resume membership":"Upgrade")))))},H=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=(0,T.I0)();return a.createElement(x.cW,{source:{susiEntry:"post_paywall"},extendSource:!0},a.createElement(l.xu,{display:"flex",sm:{flexDirection:"column"}},a.createElement(l.xu,{display:"flex",flexDirection:"row",justifyContent:"center"},n.facebook||n.google||n.twitter?a.createElement(D.r,{userSocialLogins:n}):a.createElement(U.o,{onSuccess:function(){return r((0,P.Pc)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:n.userId},(function(e){var t=e.handleSubmit;return a.createElement(l.zx,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")})))),t&&a.createElement(l.xu,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},a.createElement(E.F,{scale:"M"},a.createElement(B.G,{declineSuggestedAccount:t,isSocial:!!n&&!!(n.facebook||n.google||n.twitter)}))))},z=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=e.suggestedAccountEventData,o=e.showSuggestedAccount,i=e.postId;return a.createElement(x.cW,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:i}},a.createElement(N.M,{eventData:r},a.createElement(l.xu,{display:"inline-block",textAlign:"center"},a.createElement(H,{declineSuggestedAccount:t,showSuggestedAccount:o,userSocialLogins:n}),a.createElement(l.xu,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},a.createElement(E.F,{scale:"L"},a.createElement(j.a,{eventData:r,linkStyle:"OBVIOUS"},"Learn more about membership"))))))},G=function(e){var t=e.post,n=e.excludePadding,r=void 0!==n&&n,o=(0,S.v9)((function(e){return e.config.authDomain})),i=(0,S.v9)((function(e){return e.config.productName})),s=(0,p.Hk)().value,d=(0,p.rZ)().viewerId,m=(0,y.Av)(),f=null==s?void 0:s.isMembershipTrialEligible,v=!(!(0,M.V)({name:"enable_trial_upsell",placeholder:!1})||!f),x=!!(0,M.V)({name:"optimizely_holdback",placeholder:!1});a.useEffect((function(){f&&m.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[f]);var b="paywall";return a.createElement(g.N8,null,a.createElement(c,null,a.createElement(L.o,{postRenderCallback:function(){}},(function(e){var n,c=e.loading,m=e.showSuggestedAccount,p=e.declineSuggestedAccount,g=e.userSocialLogins;return c?a.createElement(a.Fragment,null):(m&&(b="suggested-account-paywall"),m&&(n={alternateUserSuggestionShown:m,alternateUserSuggestionAccountType:(0,F.S)(g),alternateUserSuggestionTargetUserId:!!g&&g.userId,alternateUserSuggestionSourceUserId:d}),a.createElement(a.Fragment,null,a.createElement(u.W,{featureString:b,target:v?"trial-background-color":"background-color"},a.createElement(l.xu,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},a.createElement(l.xu,{display:"flex",flexDirection:"column",padding:r?"48px 0 0":"48px 50px",sm:{padding:"28px 16px 32px",textAlign:"center"}},a.createElement(u.W,{featureString:b,target:v?"webCCTrialHeading":"fewerClicksHeading"},a.createElement(h.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},function(e,t,n,r){var o=r.showSuggestedAccount,i=r.showTrialPaywall,s=r.inHoldback,c=t?(0,F.J)(t):null;return c=c&&c.length<=13?c:null,o?"Switch to your member account for unlimited reading.":i?a.createElement(l.xu,{textAlign:"center",sm:{marginBottom:"5px",textAlign:"center"}},c?"".concat(c,", keep reading."):"Keep reading."):a.createElement(l.xu,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},s?"How to read this story — and everything else on ".concat(e,"."):c?n?"".concat(c,", read more from ").concat(n," — and everyone else on ").concat(e,"."):"".concat(c,", here's how to read this story — and everything else on ").concat(e,"."):n?"How to read this story from ".concat(n," — and everything else on ").concat(e,"."):"How to read this story — and everything else on ".concat(e,"."))}(i,s&&s.name,t.creator&&t.creator.name,{showSuggestedAccount:m,showTrialPaywall:v,inHoldback:x}))),a.createElement(E.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"div"},!m&&!v&&a.createElement(a.Fragment,null,a.createElement(u.W,{featureString:b,target:"second-header-fewer-clicks"},a.createElement(l.xu,{marginTop:"8px",marginBottom:"28px",textAlign:"left",sm:{display:"inline-block",textAlign:"center"}},"You’ve read all your free member-only stories. Become a member to get unlimited access and support the voices you want to hear more from.")),a.createElement(l.xu,{display:"flex",justifyContent:"flex-start",sm:{justifyContent:"center"}},a.createElement(V,{optimizelyFeatureString:b,post:t,showTrialPaywall:v,authDomain:o}))),a.createElement(u.W,{featureString:b,target:v?"subtitle-copy-web-cc-trial":"subtitle-copy-fewer-clicks"},a.createElement(l.xu,{marginTop:m?"28px":"8px",marginBottom:"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:"inline-block"}},function(e,t,n,r){var o=n.showTrialPaywall;if(n.showSuggestedAccount&&t){var i=t.isMember,s=t.redactedEmailAddress;return a.createElement(a.Fragment,null,"Looks like you're coming from the ",i&&"member ","account"," ",a.createElement("b",null,s)," but you’re signed in as ",a.createElement("b",null,null==r?void 0:r.email),". Switch to your",i?" member account for unlimited access":" account",".")}return a.createElement(l.xu,{marginTop:"28px",marginBottom:"28px",textAlign:o?"center":"left"},o?"Start your 1 month free trial for unlimited access to everything on ".concat(e,". If it’s not for you, cancel anytime."):a.createElement(a.Fragment,null,a.createElement("b",null,"Read any story. "),"Access everything on ",e," across all your devices with no limits or ads.",a.createElement("br",null),a.createElement("br",null),a.createElement("b",null,"Reward great writing. "),"A portion of your membership fee will go toward the writers you read most."))}(i,g,{showSuggestedAccount:m,showTrialPaywall:v},s)))),!!m&&g&&a.createElement(z,{declineSuggestedAccount:p,userSocialLogins:g,suggestedAccountEventData:n,showSuggestedAccount:m,postId:t.id}),v&&!m&&a.createElement(V,{optimizelyFeatureString:b,post:t,showTrialPaywall:v,authDomain:o}))))))}))))},$=(0,i.Ps)(W()),K=n(6401),q=n(85740),J=n(5731),Q=n(59317),Y=n(81405),Z=n(90174),X=n(4134),ee=n(37581);function te(){var e=o()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return te=function(){return e},e}function ne(){var e=o()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return ne=function(){return e},e}var re="post_regwall",oe=function(e){var t=e.enablePasswords,n=e.meterCount,r=e.optimizelyFeatureString,o=e.postId,i={operation:"register"},s=(0,Q.j)().openModal,c=function(e){var n=e.children;return t?a.createElement(u.W,{featureString:r,target:"google-button"},n):n};return a.createElement(l.xu,{display:"flex",flexDirection:"column",textAlign:"center",sm:{flexDirection:"column"}},a.createElement(u.W,{featureString:r,target:"google-button"},a.createElement(l.xu,{margin:"".concat(t?"32px":"62px"," 0 10px"),sm:{margin:"40px 0 12px 0"}},a.createElement(ee.$,{eventData:{meterCount:n,operation:i.operation,postId:o}},a.createElement(X.x,i)))),a.createElement(c,null,a.createElement(l.xu,{marginBottom:t?"32px":"52px",sm:{marginBottom:"40px"}},a.createElement(ee.$,{eventData:{meterCount:n,operation:i.operation,postId:o}},t?a.createElement(Y.R,{goToEmailAuthStep:function(){s({step:"ENTER_EMAIL",susiEntry:re,operation:"register"})},operation:"register"}):a.createElement(Z.q,i)))))},ie=function(e){var t=e.meteringInfo,n=e.post,r=(0,y.Av)(),o=!!(0,q.P5)("enable_passwords"),i="LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,s="".concat(i?"syndicated-":"","regwall");return a.useEffect((function(){r.event("meter.viewed",{meterCount:null==t?void 0:t.postIds.length,postId:n.id,uiType:i?J.j.SyndicatedRegwall:J.j.RegWall})}),[]),a.createElement(g.N8,null,a.createElement(x.cW,{source:{postId:n.id,susiEntry:re}},a.createElement(c,null,a.createElement(u.W,{featureString:s,target:"background-color"},a.createElement(l.xu,{display:"flex",textAlign:"center",justifyContent:"center",sm:{flexDirection:"column",textAlign:"center"}},a.createElement(l.xu,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},a.createElement(u.W,{featureString:s,target:"heading"},a.createElement(h.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},a.createElement(l.xu,{display:"none",sm:{display:"block"}},"To keep reading this story, get the free app or log in."),a.createElement(l.xu,{display:"block",sm:{display:"none"}},"Read the rest of this story with a free account."))),a.createElement(h.F,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},a.createElement(l.xu,{display:"none",margin:"auto",paddingTop:"10px",width:"500px"},"You’ll also discover more fresh thinking personalized to your interests and can follow your favorite authors, publications, and topics."),a.createElement(l.xu,{display:"none",sm:{display:"block"}},a.createElement(l.xu,{margin:"".concat(o?"40px":"42px"," 0")},a.createElement(K.a,{isButton:!0,postId:n.id,appEntry:"regwall"})),a.createElement(u.W,{featureString:s,target:"skip-app-copy"},a.createElement(l.xu,{marginBottom:"-20px"},"Or, continue in mobile web"))),a.createElement(oe,{meterCount:null==t?void 0:t.postIds.length,optimizelyFeatureString:s,postId:n.id,enablePasswords:o}),a.createElement(u.W,{featureString:s,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),a.createElement(u.W,{featureString:s,target:"sign-in-link",tag:"span"},a.createElement(f.R9,{linkStyle:"OBVIOUS",operation:"login",post:n,susiEntry:re},"Sign in")))))))))},ae=(0,i.Ps)(ne(),f.qU),le=(0,i.Ps)(te());function se(){var e=o()(["\n  fragment Wall_meteringInfo on MeteringInfo {\n    ...RegWall_meteringInfo\n  }\n  ","\n"]);return se=function(){return e},e}function ce(){var e=o()(["\n  fragment Wall_post on Post {\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    isLocked\n    isMarkedPaywallOnly\n    ...MemberOnlyWall_post\n    ...PayWall_post\n    ...RegWall_post\n  }\n  ","\n  ","\n  ","\n"]);return ce=function(){return e},e}var ue=(0,i.Ps)(ce(),R,$,ae),de=(0,i.Ps)(se(),le),me=function(e){var t=e.post,n=e.meteringInfo,r=e.excludePadding,o=(0,y.Av)(),i=(0,p.Hk)().value,l=!!i,s=t.isLocked,c=t.isMarkedPaywallOnly,u=t.content.isLockedPreviewOnly,m=(0,M.V)({name:"enable_member_only_paywall",placeholder:!1}),g=(0,d.$)("entity_driven_subscription_milestone_2",null==t?void 0:t.creator);return a.useEffect((function(){!g||null!=i&&i.mediumMemberAt||o.event("experiment.eligible",{experimentId:"302c03fdc015"})}),[g,i]),u?(c||s)&&g&&m?a.createElement(A,{post:t}):l?a.createElement(G,{post:t,excludePadding:r}):a.createElement(ie,{post:t,meteringInfo:n}):null}},30570:(e,t,n)=>{"use strict";n.d(t,{sK:()=>p,L0:()=>g,q9:()=>f});var r=n(28655),o=n.n(r),i=n(63038),a=n.n(i),l=n(71439),s=n(67294),c=n(74908),u=n(53976);function d(){var e=o()(["\n  fragment InlineExpansionContext_post on Post {\n    id\n    creator {\n      id\n      customStyleSheet {\n        id\n        blogroll {\n          visibility\n        }\n      }\n      isAuroraVisible\n      followedCollections\n      socialStats {\n        followingCount\n      }\n    }\n    collection {\n      id\n      canToggleEmail\n      description\n      isAuroraEligible\n      isAuroraVisible\n      viewerEdge {\n        id\n        isEditor\n      }\n      tagline\n    }\n    customStyleSheet {\n      id\n      blogroll {\n        visibility\n      }\n    }\n  }\n"]);return d=function(){return e},e}var m=s.createContext({expandedPostId:null,setExpandedPostId:function(){},postInView:!1,setPostInView:function(){},expandedPost:null,setExpandedPost:function(){}}),p=function(){return s.useContext(m)},g=function(e){var t=e.children,n=s.useState(null),r=a()(n,2),o=r[0],i=r[1],l=s.useState(!1),d=a()(l,2),p=d[0],g=d[1],f=s.useState(null),v=a()(f,2),h=v[0],E=v[1],y=(0,u.V)({name:"enable_inline_expansion",placeholder:null});return s.createElement(m.Provider,{value:{expandedPostId:o,setExpandedPostId:i,postInView:p,setPostInView:g,expandedPost:h,setExpandedPost:E}},s.createElement(c.k,{post:h,preload:!!y},t))},f=(0,l.Ps)(d())},15789:(e,t,n)=>{"use strict";n.d(t,{b:()=>M,U:()=>R});var r=n(67154),o=n.n(r),i=n(63038),a=n.n(i),l=n(28655),s=n.n(l),c=n(46829),u=n(71439),d=n(67294),m=n(25415),p=n(40820),g=n(69677),f=n(72846),v=n(91442),h=n(59713),E=n.n(h),y=n(11642);function x(){var e=s()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return x=function(){return e},e}function b(){var e=s()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return b=function(){return e},e}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n)return null;var r=t,o=n;return e.substr(r,o-r)}var I=(0,u.Ps)(b()),C=(0,u.Ps)(x()),_=n(34675),O=n(44059);function k(){var e=s()(["\n  query InteractivePostBodyQuery($postId: ID!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return k=function(){return e},e}function A(){var e=s()(["\n  fragment InteractivePostBody_post on Post {\n    id\n    # please note that postMeteringOptions is defined in PostHandler, which uses InteractivePostBody\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      bodyModel {\n        ...PostBody_bodyModel\n        paragraphs {\n          ...HighlighSegmentContext_paragraph\n          ...NormalizeHighlights_paragraph\n        }\n      }\n    }\n    creator {\n      id\n      allowNotes\n      ...PostBody_creator\n    }\n    ...ActiveSelectionContext_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return A=function(){return e},e}var R=(0,u.Ps)(A(),p.iF,v.iB,C,f.Pk,f.v),T=(0,u.Ps)(k(),p.UW,v.g8,f.XV,f.w6,I),M=d.forwardRef((function(e,t){var n,r,i,l=e.activeGrafId,s=e.activeNoteId,u=e.isAuroraPostPageEnabled,h=e.post,E=e.inlinePost,x=e.postBodyInserts,b=e.richTextStyle,P=e.markedUpBodyModel,I=(0,_.Hk)().value,C=E&&!h?P||(null==E||null===(n=E.extendedPreviewContent)||void 0===n?void 0:n.bodyModel):null==h||null===(r=h.content)||void 0===r?void 0:r.bodyModel,k={creator:null==h?void 0:h.creator,isAuroraPostPageEnabled:u,postBodyInserts:x,ref:t,richTextStyle:b||"FULL_PAGE"},A=h&&h.creator&&h.creator.allowNotes||!1,R=(0,c.useLazyQuery)(T,{ssr:!1,variables:{postId:(null==h?void 0:h.id)||"",showNotes:A},notifyOnNetworkStatusChange:!0}),M=a()(R,2),U=M[0],D=M[1],B=D.called,L=D.data,j=null==L?void 0:L.post;if(d.useEffect((function(){h&&!B&&U()}),[h]),!C)return O.t.log("Expected post to have content or preview content."),null;var N=(null==h||null===(i=h.content)||void 0===i?void 0:i.bodyModel)&&(null==h?void 0:h.content.bodyModel.paragraphs)||[],F=function(e,t){return e&&t?e.map((function(e){var n=e.endOffset,r=e.startOffset,o=e.paragraphs&&e.paragraphs[0],i=function(e,t){return e?t.find((function(t){var n=t.name;return e===n})):null}(o.name,t);if(!o||!i)return null;var a=w(o.text,r,n),l=w(i.text,r,n);if(!a||!l)return null;if(a===l)return e;var s=i.text?i.text.indexOf(a):null;if("number"!=typeof s||s<0)return null;var c=s+a.length;return S(S({},e),{},{endOffset:c,startOffset:s})})).filter(y.b):e}(j&&j.highlights||[],N),W=j&&j.privateNotes||null;return d.createElement(g.yb,null,d.createElement(m.KN,{initialActivePrivateNoteId:s,initialActiveGrafName:l},d.createElement(p.Ms,{interactivePost:h,highlights:F,disableSelection:!h},d.createElement(v.U7,{highlights:F,paragraphs:N,viewer:I},d.createElement(f.yO,o()({},k,{bodyModel:C,highlights:F,privateNotes:W}))))))}))},32149:(e,t,n)=>{"use strict";n.d(t,{$:()=>c,G:()=>u});var r=n(28655),o=n.n(r),i=n(71439),a=n(53976),l=n(34675);function s(){var e=o()(["\n  fragment useShouldShowEntityDrivenSubscription_creator on User {\n    viewerIsUser\n    viewerEdge {\n      id\n      isAllowEdsEnabled\n    }\n  }\n"]);return s=function(){return e},e}var c=function(e,t){var n,r,o=(0,l.Hk)().value,i=(0,a.V)({name:e,placeholder:!1}),s=null!==(n=null==o?void 0:o.mediumMemberAt)&&void 0!==n&&n,c=null==t?void 0:t.viewerEdge.isAllowEdsEnabled,u=null!==(r=null==t?void 0:t.viewerIsUser)&&void 0!==r&&r;return!!t&&(c&&!(null!=o&&o.id)||c&&u||!!i&&c&&!s)},u=(0,i.Ps)(s())},37258:(e,t,n)=>{"use strict";n.d(t,{o:()=>x});var r=n(63038),o=n.n(r),i=n(28655),a=n.n(i),l=n(71439),s=n(80439),c=n(67294),u=n(85740),d=n(34675),m=n(90738),p=n(14414),g=n(27599),f=n(27572),v=n(11348),h=n(67297);function E(){var e=a()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return E=function(){return e},e}var y=(0,l.Ps)(E()),x=function(e){var t=e.actionUrl,n=e.children,r=e.onSuccess,i=e.token,a=e.userId,l=(0,g.Av)(),E=!!(0,u.P5)("skip_sign_in_recaptcha"),x=c.useState(!1),b=o()(x,2),P=b[0],S=b[1],w=(0,h.v9)((function(e){return e.navigation.currentLocation})),I=function(){S(!1)},C=(0,f.pK)(),_=(0,f.hp)(),O=t&&i?(0,p.hQ)(w,C,_,t,i):(0,p.hQ)(w,C,_),k=(0,d.rZ)(),A=k.loading,R=k.error,T=k.viewerId;return A||R?null:c.createElement(s.mm,{mutation:y,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":l.event("site.loginLinkSent",{}),r&&r();break;case"FailedChallenge":l.event("site.loginByEmailCaptchaFailure",{}),S(!1);break;case"BadRequest":case"NotFound":default:I()}},onError:I},(function(e){var t=function(t){(0,v.Zs)(!0,T,a,"Email",!1);var n="medium";l.event("susi.methodClicked",{entryPoint:_,operation:"login",susiMethod:n.toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:n.toLowerCase(),alternateUserSuggestionTargetUserId:a,alternateUserSuggestionSourceUserId:T}),e({variables:{userId:a,redirect:O,captchaValue:t}})};return c.createElement(c.Fragment,null,!E&&c.createElement(m.k,{callback:t,shouldExecuteRecaptcha:P}),n({handleSubmit:function(){return E?t(null):S(!0)}}))}))}},19608:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(67294),o=n(90174),i=n(4134),a=n(70146),l=n(37581),s=function(e){var t=e.actionUrl,n=e.token,s=e.userSocialLogins,c={actionUrl:t||"",operation:"login",token:n||"",targetUserId:s.userId,alternateUserSuggestion:!0};return r.createElement(l.$,{eventData:{operation:c.operation}},s.google?r.createElement(i.x,c):s.facebook?r.createElement(o.q,c):s.twitter?r.createElement(a.G,c):r.createElement(r.Fragment,null))}},27168:(e,t,n)=>{"use strict";n.d(t,{G:()=>p});var r=n(59713),o=n.n(r),i=n(67294),a=n(12291),l=n(34675),s=n(78181),c=n(27572),u=n(85277),d=n(67297);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=function(e){var t=e.declineSuggestedAccount,n=e.isSocial,r=(0,d.v9)((function(e){return e.navigation.hasRenderedAlternateUserBanner})),p=(0,c.hp)(),g=(0,a.I0)(),f=(0,l.Hk)(),v=f.loading,h=f.error,E=f.value;if(v||h)return i.createElement(i.Fragment,null);var y=function(e){return e?i.createElement(s.rU,{onClick:function(){return x("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):i.createElement(i.Fragment,null,"Not you?"," ",i.createElement(s.rU,{onClick:function(){return x("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",i.createElement(s.rU,{onClick:function(){return x("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},x=function(e){var n="SIGNIN_OPTIONS"===e?"login":"register";t(),g((0,u.Pc)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({operation:n,step:e},!!p&&{susiEntry:p})))};return r?y(E):E?i.createElement(s.rU,{onClick:function(){return t()}},"Not me"):y(n)}},48881:(e,t,n)=>{"use strict";n.d(t,{o:()=>b});var r=n(28655),o=n.n(r),i=n(59713),a=n.n(i),l=n(63038),s=n.n(l),c=n(71439),u=n(80439),d=n(67294),m=n(34675),p=n(27599),g=n(27572),f=n(51512),v=n(33572),h=n(8403);function E(){var e=o()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        __typename\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return E=function(){return e},e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.children,n=e.postRenderCallback,r=(0,p.Av)(),o=(0,g.hp)(),i=(0,h.PM)(),a=(0,f.P7)(i||""),l=a.userId,c=a.name,E=d.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),y=s()(E,2),b=y[0],S=y[1];d.useEffect((function(){var e=b.shouldRun,t=b.showSuggestedAccount,r=b.userSocialLogins;e&&n(w,t,r)}),[b.shouldRun]);var w=(0,m.Hk)().value,I=(0,m.rZ)(),C=I.loading,_=I.error,O=I.viewerId;if(C||_)return null;var k=!("email"!==c||w&&w.mediumMemberAt||!l);return k&&l?d.createElement(u.AE,{query:P,variables:{userId:l}},(function(e){var i=e.loading,a=e.error,l=e.data,s=(l=void 0===l?{}:l).userSocialLogins,c=!(i||a||!s||w&&!s.isMember||!s.facebook&&!s.google&&!s.twitter&&!s.redactedEmailAddress),u=x({loading:i,showSuggestedAccount:c},c&&{userSocialLogins:s,declineSuggestedAccount:function(){var e=(0,v.S)(s);r.event("susi.suggestNotYou",{entryPoint:o,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==s?void 0:s.userId,alternateUserSuggestionSourceUserId:O})}});return!n||i||b.shouldRun||S({shouldRun:!0,showSuggestedAccount:c,userSocialLogins:s}),t(u)})):(n&&!b.shouldRun&&S(x(x({},b),{},{shouldRun:!0})),t({showSuggestedAccount:k,loading:!1}))},P=(0,c.Ps)(E())},5731:(e,t,n)=>{"use strict";var r;n.d(t,{j:()=>r}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(r||(r={}))},2874:(e,t,n)=>{"use strict";n.d(t,{k1:()=>_,EA:()=>O,d0:()=>T,_k:()=>M});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(60046),s=n(62872),c=n(43689),u=n(51562),d=n(47578),m=n(71542),p=n(34675),g=n(62181),f=n(8558),v=n(22091),h=n(64504),E=n(27599),y=n(27572),x=n(18839),b=n(67297),P=n(6522),S=n(90038),w=n(96879),I=n(27952);function C(){var e=o()(["\n  fragment EntityDrivenSubscriptionLandingPageScreen_writer on User {\n    name\n    imageId\n    id\n    username\n    ...userUrl_user\n  }\n  ","\n"]);return C=function(){return e},e}var _="f73713ca13c3",O="a2ace5bcce17",k="entity-driven-sub-landing-page",A=function(){return a.createElement(s.l,{borderColor:"rgb(230 230 230)",height:c.Je,heightSm:c.R2},a.createElement(v.Pm,null,a.createElement(v.xu,{display:"flex",alignItems:"center",height:"".concat(c.Je,"px"),sm:{height:"".concat(c.R2,"px")},flexDirection:"row"},a.createElement(v.xu,{justifySelf:"flex-start",flexGrow:"1"},a.createElement(l.Rv,{size:"S"})),a.createElement(R,null))))},R=function(){return(0,p.Hk)().value?null:a.createElement(v.xu,{justifySelf:"flex-end"},a.createElement(h.F,{scale:"L"},a.createElement(v.xu,{display:"flex",flexDirection:"row",sm:{flexDirection:"column"}},a.createElement(v.xu,{paddingRight:"4px"},"Already a member?"),a.createElement(g.R9,{operation:"login",linkStyle:"OBVIOUS",susiEntry:"entity_driven_subscription_lp"},"Sign in"))))},T=function(e){var t,n,r,o=e.user,i=e.redirectExperiment,l=e.postId,s=(0,b.v9)((function(e){return e.config.authDomain})),c=(0,b.v9)((function(e){return e.config.productName})),g=(0,p.Hk)().value,C=(0,E.Av)(),_=a.useCallback((function(){C.event("entityDrivenSubCallToAction.clicked",{userId:null==g?void 0:g.id,entityId:null==o?void 0:o.id})}),[o,null==g?void 0:g.id,s]);if(!o)return null;var O=null!==(t=o.name)&&void 0!==t?t:"",R=null!==(n=o.username)&&void 0!==n?n:"",T=null!==(r=o.imageId)&&void 0!==r?r:P.gG,M=o.id,U=(0,I.AWr)(o,s),D=(0,w.Rk)((0,I.c5p)(s),{subscribeToUserId:M}),B=l?(0,I.o2w)(s,l):U,L=null!=g&&g.mediumMemberAt?U:D;return(0,d.KQ)({},O),a.createElement(a.Fragment,null,a.createElement(x._,{card:"summary_large_image",title:"Read every story from ".concat(O," (and thousands of other writers on ").concat(c,")"),description:"As a ".concat(c," member, a portion of your membership fee goes to writers you read, and you get full access to every story on ").concat(c,"."),imageUrl:(0,S.W6)({miroId:T,width:1200,strategy:S._S.Resample,ignorePixelRatio:!0}),pageType:"website",pageUrl:(0,I.h3G)(s,R),publicationName:c,publicationTwitterHandle:"@Medium"}),a.createElement(y.cW,{source:{name:"entity_driven_subscription",userId:M}},a.createElement(v.xu,{display:"flex",height:"100vh",flexDirection:"column"},a.createElement(A,null),a.createElement(v.xu,{display:"flex",height:"0",flexGrow:"1",textAlign:"center",justifyContent:"center",alignItems:"center",flexDirection:"column"},a.createElement(v.Pm,{size:"inset"},a.createElement(v.xu,{display:"flex",paddingBottom:"32px",justifyContent:"center"},a.createElement(m.s,null,a.createElement(f.zN,{miroId:T,alt:O||"",diameter:128,freezeGifs:!1})),a.createElement(m.e,null,a.createElement(f.zN,{miroId:T,alt:O||"",diameter:80,freezeGifs:!1}))),a.createElement(v.xu,{paddingBottom:"20px"},a.createElement(h.F1,{scale:{xs:"S",sm:"S",md:"L",lg:"L",xl:"L"}},a.createElement(u.W,{featureString:k,target:"title-copy"},"Read every story from ",O," (and thousands of other writers on Medium)."))),a.createElement(v.xu,{paddingBottom:"20px"},a.createElement(h.F,{scale:"L",color:"DARKER"},a.createElement(u.W,{featureString:k,target:"description-copy"},"As a Medium member, a portion of your membership fee goes to the writers you read, and you get full access to every story on Medium."))),a.createElement(v.xu,{display:"flex",paddingBottom:"20px",flexDirection:{xs:i?"column-reverse":void 0,sm:i?"column-reverse":void 0,md:void 0,lg:void 0,xl:void 0},justifyContent:"center"},i&&a.createElement(v.xu,{paddingRight:{xs:void 0,sm:void 0,md:"12px",lg:"12px",xl:"12px"},paddingTop:{xs:"12px",sm:"12px",md:void 0,lg:void 0,xl:void 0}},a.createElement(v.zx,{href:B,buttonStyle:"OBVIOUS",size:"LARGE"},"Not now")),a.createElement(v.xu,null,a.createElement(v.zx,{onClick:_,href:L,buttonStyle:"STRONG",size:"LARGE"},a.createElement(u.W,{featureString:k,target:"logged-in-button-copy"},"Become a member")))),!i&&a.createElement(h.F,{scale:"L",color:"DARKER",tag:"span"},a.createElement(v.rU,{linkStyle:"SUBTLE",href:U},a.createElement(u.W,{featureString:k,target:"link-copy"},"Visit ",O,"'s profile"))))))))},M=(0,i.Ps)(C(),I.$mN)},33572:(e,t,n)=>{"use strict";function r(e){if((e.match(/ /g)||[]).length>1)return"";var t=e.indexOf(" ");return e.substring(0,t)}function o(e){return e.google?"google":e.facebook?"facebook":e.twitter?"twitter":"medium"}n.d(t,{J:()=>r,S:()=>o})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/2955.5d432fbb.chunk.js.map