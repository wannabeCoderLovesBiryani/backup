(self.webpackChunklite=self.webpackChunklite||[]).push([[9684],{90264:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var a=n(67294);function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var i=a.createElement("path",{d:"M14 14.05a1 1 0 0 1-1 1H6a.99.99 0 0 1-1-1v-4a1 1 0 0 1 1-1h7a.99.99 0 0 1 1 1v4zm-7-8.6c0-1.26 1.11-2.3 2.5-2.3S12 4.19 12 5.45v2.6H7v-2.6zm6 2.6v-2.6c0-1.83-1.58-3.3-3.5-3.3S6 3.62 6 5.45v2.6a2 2 0 0 0-2 2v4a1.99 1.99 0 0 0 2 2h7a2 2 0 0 0 2-2v-4a1.99 1.99 0 0 0-2-2z",fillRule:"evenodd"});const o=function(t){return a.createElement("svg",r({width:19,height:19},t),i)}},638:(t,e,n)=>{"use strict";n.d(e,{u:()=>f});var a=n(63038),r=n.n(a),i=n(67294),o=n(85740),c=n(34675),l=n(51512),u=n(8403),s=n(67297),g=n(15412),d=n(92154),m=function(){return null},f=function(){var t=(0,s.p9)((function(t){return t.config.isAmp}));return(0,c.cD)().isBot||t?null:i.createElement(o.bZ,{name:"dont_track_user",placeholder:m},(function(t){return t?null:i.createElement(i.Fragment,null,i.createElement("script",null,"window.PARSELY = window.PARSELY || {autotrack: false}"),i.createElement(c.I8,null,(function(t){return i.createElement(p,{viewer:t})})))}))},p=function(t){var e=t.viewer,n=(0,s.v9)((function(t){return t.navigation.currentLocation})),a=(0,s.v9)((function(t){return t.navigation.referrer})),r=function(t){return t?t.mediumMemberAt?"member":"user":"visitor"}(e),i=(0,u.PM)();return v(n,a,i,r),null},v=function(t,e,n,a){var o=(0,g.G)("//d1z2jf7jlzjs58.cloudfront.net/keys/medium.com/p.js",{id:"parsely-cf"}),c=r()(o,2),l=c[0],u=c[1],s=(0,d.l)();i.useEffect((function(){l&&!u&&s({resource:function(){return window.PARSELY.beacon},callback:function(){return window.PARSELY.beacon.trackPageView({url:h(t,n),urlref:e,js:1,data:{viewerStatus:a}})},max:10})}),[t,e,l,u])};function h(t,e){if(!t)return"";if(!e)return t;var n=new URL(t),a=(0,l.P7)(e),i=a.name,o=a.dimension;if(i&&n.searchParams.set("utm_medium",i),o){var c=o.split("."),u=r()(c,3),s=u[0],g=u[1],d=u[2];s&&n.searchParams.set("utm_source",s),g&&n.searchParams.set("utm_term",g),d&&n.searchParams.set("utm_content",d)}return n.toString()}},66612:(t,e,n)=>{"use strict";n.d(e,{F:()=>s,l:()=>g});var a=n(28655),r=n.n(a),i=n(71439),o=n(67294),c=n(8558),l=n(22091);function u(){var t=r()(["\n  fragment BookCover_bookEdition on BookEdition {\n    cover\n  }\n"]);return u=function(){return t},t}var s=function(t){var e=t.bookEdition,n=t.width,a=t.marginRight,r=t.marginBottom,i=t.marginLeft,u=t.marginTop,s=t.height,g=t.strategy;return o.createElement(l.xu,{marginRight:a,marginLeft:i,marginTop:u,marginBottom:r},e.cover?o.createElement(c.UV,{miroId:e.cover,width:n,height:s,strategy:g}):o.createElement(l.xu,{height:"".concat(s||1.5*n,"px"),width:"".concat(n,"px"),backgroundColor:"BASE_NORMAL"}))},g=(0,i.Ps)(u())},73976:(t,e,n)=>{"use strict";n.d(e,{n:()=>b,E:()=>E});var a=n(28655),r=n.n(a),i=n(71439),o=n(67294),c=n(22091),l=n(4353),u=n(64504),s=n(16072),g=n(28309),d=n(14391),m=n(90264);function f(){var t=r()(["\n  fragment CatalogAddToListItem_catalog on Catalog {\n    id\n    name\n    visibility\n  }\n"]);return f=function(){return t},t}var p={display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"16px","& > label":{width:"calc(100% - 10px)","& > div":{flexShrink:0},"& > p":{marginRight:"10px",textAlign:"left"}}};function v(t){var e=t.catalog,n=t.target,a=t.kind,r=(0,g.Iq)();return o.createElement(s.jo,{target:n,kind:a,catalogId:e.id},(function(t){var n=t.toggleInsideCatalog,a=t.isInsideCatalog;return o.createElement("div",{className:r(p)},o.createElement(c.XZ,{key:e.id,checked:a,checkboxStyle:"OBVIOUS",onChange:n,disabled:e.visibility===d.n2.LOCKED,textScale:"L",clampText:1},e.name),e.visibility!==d.n2.PUBLIC&&o.createElement(m.Z,null))}))}var h=(0,i.Ps)(f());function y(){var t=r()(["\n  fragment CatalogAddToList_catalog on Catalog {\n    ...CatalogAddToListItem_catalog\n  }\n  ","\n"]);return y=function(){return t},t}function b(t){var e=t.target,n=t.kind,a=t.catalogs;return t.isLoading?o.createElement(c.xu,{display:"flex",justifyContent:"center",padding:"40px 0"},o.createElement(u.F,{color:"DARKER",scale:"L"},o.createElement(l.T,null))):a?o.createElement(o.Fragment,null,a.map((function(t){return o.createElement(v,{key:t.id,catalog:t,target:e,kind:n})}))):null}var E=(0,i.Ps)(y(),h)},16084:(t,e,n)=>{"use strict";n.d(e,{W:()=>h,CT:()=>y,e7:()=>b,dw:()=>E,BY:()=>C,jk:()=>x,Dk:()=>w});var a=n(28655),r=n.n(a),i=n(319),o=n.n(i),c=n(59713),l=n.n(c),u=n(71439),s=n(34675),g=n(14391),d=n(8769),m=n(73976);function f(){var t=r()(["\n  query GetCatalogsByUser(\n    $userId: ID!\n    $pagingOptions: CatalogPagingOptionsInput!\n    $type: CatalogType!\n    $isPaginated: Boolean!\n    $withCatalogDetails: Boolean!\n  ) {\n    catalogsByUser(userId: $userId, pagingOptions: $pagingOptions, type: $type) {\n      __typename\n      catalogs @skip(if: $withCatalogDetails) {\n        ...CatalogAddToList_catalog\n      }\n      catalogs @include(if: $withCatalogDetails) {\n        ...YourCatalogsScreen_catalog\n      }\n\n      paging @include(if: $isPaginated) {\n        __typename\n        nextPageCursor {\n          id\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return f=function(){return t},t}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=5,y=20,b=100,E=function(t){var e,n=t.limit,a=t.isPaginated,r=void 0!==a&&a,i=t.withCatalogDetails,o=void 0!==i&&i,c=(0,s.Hk)().value;return{userId:null!==(e=null==c?void 0:c.id)&&void 0!==e?e:"",pagingOptions:{limit:n},type:g.HQ.LISTS,isPaginated:r,withCatalogDetails:o}};function C(t,e,n){var a,r=t.readQuery({query:w,variables:n}),i=null===(a=e.data)||void 0===a?void 0:a.createCatalog;if(i){var c,l=h-1,u=null!==(c=null==r?void 0:r.catalogsByUser.catalogs)&&void 0!==c?c:[],s=u.length>l?u.slice(0,l):u,g=v(v({},r),{},{catalogsByUser:v(v({},null==r?void 0:r.catalogsByUser),{},{catalogs:[i].concat(o()(s))})});t.writeQuery({query:w,variables:n,data:g})}}var x=function(t){var e,n;return null!==(e=null==t||null===(n=t.catalogsByUser)||void 0===n?void 0:n.catalogs)&&void 0!==e?e:[]},w=(0,u.Ps)(f(),m.E,d.G)},16072:(t,e,n)=>{"use strict";n.d(e,{Ax:()=>v,jo:()=>h,ok:()=>y,BH:()=>b,o:()=>E});var a=n(63038),r=n.n(a),i=n(28655),o=n.n(i),c=n(71439),l=n(46829),u=n(67294),s=n(16084);function g(){var t=o()(["\n  mutation EditCatalogItemAnnotation(\n    $catalogId: String!\n    $catalogItemId: String!\n    $annotation: CatalogItemAnnotationInput\n  ) {\n    editCatalogItemAnnotation(\n      catalogId: $catalogId\n      catalogItemId: $catalogItemId\n      annotation: $annotation\n    ) {\n      __typename\n      ... on CatalogItemV2 {\n        catalogId\n        catalogItemId\n        userAnnotation {\n          annotation\n        }\n        entity {\n          __typename\n          ... on Post {\n            id\n          }\n          ... on BookEdition {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return g=function(){return t},t}function d(){var t=o()(["\n  mutation DeleteCatalog($catalogId: String!) {\n    deleteCatalog(catalogId: $catalogId) {\n      __typename\n      ... on MutationSuccess {\n        success\n      }\n    }\n  }\n"]);return d=function(){return t},t}function m(){var t=o()(["\n  mutation UpdateCatalog($catalogId: String!, $attributes: UpdateCatalogInput!) {\n    updateCatalog(catalogId: $catalogId, attributes: $attributes) {\n      __typename\n      ... on Catalog {\n        id\n        name\n        visibility\n        description\n      }\n    }\n  }\n"]);return m=function(){return t},t}function f(){var t=o()(["\n  mutation CreateCatalog($attributes: CreateCatalogInput!) {\n    createCatalog(attributes: $attributes) {\n      __typename\n      ... on Catalog {\n        id\n        name\n        visibility\n      }\n    }\n  }\n"]);return f=function(){return t},t}var p=(0,c.Ps)(f()),v=function(t,e){var n=(0,s.dw)({limit:s.W}),a=(0,l.useMutation)(p,{onCompleted:function(t){t.createCatalog.__typename},update:function(t,e){(0,s.BY)(t,e,n)}}),i=r()(a,2),o=i[0],c=i[1];return{createCatalog:function(t){return o({variables:t})},loading:c.loading,data:c.data,error:c.error}};function h(t){var e=t.children,n=(t.target,t.kind,t.catalogId,function(){return null}),a=u.useState(!1),i=r()(a,2),o=i[0],c=i[1];return e({toggleInsideCatalog:function(){return c(!o),o?null:n()},isInsideCatalog:o})}var y=(0,c.Ps)(m()),b=(0,c.Ps)(d()),E=(0,c.Ps)(g())},25752:(t,e,n)=>{"use strict";n.d(e,{z:()=>a});var a=n(67294).createContext({isFetching:!1})},67900:(t,e,n)=>{"use strict";n.d(e,{P:()=>h});var a=n(34575),r=n.n(a),i=n(93913),o=n.n(i),c=n(81506),l=n.n(c),u=n(2205),s=n.n(u),g=n(78585),d=n.n(g),m=n(29754),f=n.n(m),p=n(67294),v=n(25752);var h=function(t){s()(i,t);var e,n,a=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,a=f()(e);if(n){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return d()(this,t)});function i(t){var e;return r()(this,i),(e=a.call(this,t)).bottomEdgeEl=void 0,e.maybeFetch=void 0,e.state={isFetching:!1},e.maybeFetch=e._maybeFetch.bind(l()(e)),e}return o()(i,[{key:"componentDidMount",value:function(){this.attachScrollListener(),this._maybeFetch()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener()}},{key:"_maybeFetch",value:function(){var t=this;if(this.bottomEdgeEl&&!this.state.isFetching){var e=this.props.fetchMore;if(e){var n=this.bottomEdgeEl.getBoundingClientRect(),a=window.innerHeight;n.top-a<3*a&&(this.setState({isFetching:!0}),e().then((function(){t.setState({isFetching:!1}),t._maybeFetch()})))}}}},{key:"attachScrollListener",value:function(){window.addEventListener("scroll",this.maybeFetch),window.addEventListener("resize",this.maybeFetch)}},{key:"detachScrollListener",value:function(){window.removeEventListener("scroll",this.maybeFetch),window.removeEventListener("resize",this.maybeFetch)}},{key:"render",value:function(){var t=this,e=this.props.children;return p.createElement(v.z.Provider,{value:{isFetching:this.state.isFetching}},p.createElement("div",null,e,p.createElement("div",{ref:function(e){t.bottomEdgeEl=e}})))}}]),i}(p.Component)},8769:(t,e,n)=>{"use strict";n.d(e,{Z:()=>S,G:()=>L});var a=n(28655),r=n.n(a),i=n(71439),o=n(67294),c=n(638),l=n(22091),u=n(64504),s=n(28309),g=n(14391),d=n(90264),m=n(27390),f=n(27952),p=n(66612),v=n(8558),h=n(90038);function y(){var t=r()(["\n  fragment CatalogsCover_catalogItemV2 on CatalogItemV2 {\n    entity {\n      __typename\n      ... on BookEdition {\n        ...BookCover_bookEdition\n      }\n      ... on Post {\n        previewImage {\n          id\n          alt\n        }\n      }\n    }\n  }\n  ","\n"]);return y=function(){return t},t}var b=184,E=function(t){var e,n,a=null===(e=t.catalogItems[0])||void 0===e?void 0:e.entity,r=o.createElement(l.xu,{height:"".concat(b,"px"),width:"".concat(b,"px"),backgroundColor:"BASE_NORMAL"});return a&&("BookEdition"===a.__typename?r=o.createElement(p.F,{bookEdition:a,width:b,height:b,strategy:h._S.Crop}):"Post"===a.__typename&&null!==(n=a.previewImage)&&void 0!==n&&n.id&&(r=o.createElement(v.UV,{miroId:a.previewImage.id,alt:a.previewImage.alt||"",width:b,height:b,strategy:h._S.Crop}))),o.createElement(l.xu,{height:"".concat(b,"px")},r)},C=(0,i.Ps)(y(),p.l);function x(){var t=r()(["\n  fragment CatalogsListItem_catalog on Catalog {\n    id\n    name\n    visibility\n    ...catalogUrl_catalog\n    itemsConnection(pagingOptions: {limit: 3}) {\n      items {\n        catalogItemId\n        ...CatalogsCover_catalogItemV2\n      }\n      paging {\n        count\n      }\n    }\n  }\n  ","\n  ","\n"]);return x=function(){return t},t}var w=function(t){return{fill:t.baseColor.text.lighter}},I=function(t){var e=t.catalog,n=(0,s.Iq)(),a=e.name,r=e.visibility,i=e.itemsConnection,c=e.id;return o.createElement(l.rU,{href:(0,f.ykG)(e)},o.createElement(l.xu,{key:e.id,border:"BASE_LIGHTER",borderRadius:"4px",marginBottom:"40px",maxWidth:"680px",width:"100%",display:"flex",justifyContent:"space-between",xs:{flexDirection:"column"},sm:{flexDirection:"column"},md:{flexDirection:"row"},lg:{flexDirection:"row"},xl:{flexDirection:"row"}},o.createElement(l.xu,{key:c,display:"flex",flexDirection:"column",padding:"24px 24px 29px",justifyContent:"space-between"},o.createElement(u.X6,{clamp:2,scale:"S"},a),o.createElement(l.xu,{display:"flex"},o.createElement(u.F,{scale:"S",color:"LIGHTER"},1===i.paging.count?"".concat(i.paging.count," item"):"".concat((0,m.rR)(i.paging.count)," items")),o.createElement(l.xu,{paddingLeft:"8px"},r!==g.n2.PUBLIC&&o.createElement(d.Z,{className:n(w)})))),o.createElement(E,{catalogItems:i.items})))},P=(0,i.Ps)(x(),C,f.UiF),k=n(26463),O=n(67900);function _(){var t=r()(["\n  fragment YourCatalogsScreen_catalog on Catalog {\n    ...CatalogsListItem_catalog\n  }\n  ","\n"]);return _=function(){return t},t}var S=function(t){var e=t.catalogs,n=t.fetchMore;return o.createElement(l.xu,{paddingBottom:"50px",backgroundColor:"BACKGROUND"},o.createElement(c.u,null),o.createElement(k.kw,null),o.createElement(l.Pm,{size:"outset"},o.createElement(l.xu,{maxWidth:"740px"},o.createElement(l.xu,{paddingBottom:"20px",xs:{marginTop:"20px"},sm:{marginTop:"20px"},md:{marginTop:"-20px"},lg:{marginTop:"-20px"},xl:{marginTop:"-20px"}},o.createElement(u.X6,{scale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},tag:"h1"},"Your lists")),o.createElement(l.sk,{items:[{title:"Lists",href:(0,f.be7)()}]}),o.createElement(l.xu,{marginTop:"50px"},o.createElement(O.P,{fetchMore:n},e.map((function(t){return o.createElement(I,{catalog:t})})))))))},L=(0,i.Ps)(_(),P)},29315:(t,e,n)=>{"use strict";n.d(e,{N:()=>s});var a=n(59713),r=n.n(a),i=n(82492),o=n.n(i),c=n(46829);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n,a){var r,i,l,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"fetchMoreResult",g=(0,c.useQuery)(t,{variables:e}),d=g.data,m=g.fetchMore;if(!d||g.error)return u(u({},g),{},{fetchMore:void 0});var f=null===(r=n(d))||void 0===r?void 0:r.next,p=null===(i=n(d))||void 0===i?void 0:i.nextCursor,v={};if(f||p){if(f){var h=f.limit,y=f.page,b=f.source,E=f.to,C=f.from,x=f.since,w=f.order,I=f.ignoredIds,P=void 0===I?[]:I;v={limit:h,page:y,to:E,source:b,from:C,since:x,order:w,ignoredIds:P}}else if(p){var k=p.cursor,O=p.limit;v={cursor:k,limit:O}}l=function(){return m({variables:u(u({},e),{},{pagingOptions:v}),updateQuery:function(t,e){var n=e.fetchMoreResult;return o()({},"previousResult"===s?t:n,a(t,n))}})}}return u(u({},g),{},{fetchMore:l})}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/9684.195f26b6.chunk.js.map