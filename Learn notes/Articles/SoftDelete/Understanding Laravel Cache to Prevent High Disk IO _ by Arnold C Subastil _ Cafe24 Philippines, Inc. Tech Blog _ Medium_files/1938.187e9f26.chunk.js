(self.webpackChunklite=self.webpackChunklite||[]).push([[1938],{68387:(e,n,t)=>{"use strict";t.d(n,{Qw:()=>k,Qj:()=>I,w7:()=>U});var r=t(28655),i=t.n(r),a=t(67154),o=t.n(a),u=t(59713),c=t.n(u),l=t(71439),s=t(67294),p=t(32149),d=t(34675),m=t(62181),f=t(22091),v=t(64504),x=t(27599),g=t(28309),h=t(85277),E=t(67297),b=t(82482),w=t(96879),y=t(27952);function S(){var e=i()(["\n  fragment EntityDrivenSubscriptionCallToAction_creator on User {\n    __typename\n    id\n    name\n    ...useShouldShowEntityDrivenSubscription_creator\n  }\n  ","\n"]);return S=function(){return e},e}var k="entity_driven_subscription",I=function(e){var n,t,r,i,a=e.creator,u=e.position,l=void 0===u?"bottom":u,S=(0,h.w)(),k=(0,x.Av)(),I=(0,g.Iq)(),U=(0,E.v9)((function(e){return e.config.authDomain})),O=(0,E.v9)((function(e){return e.config.productName})),T=(0,d.Hk)().value,D=null==a?void 0:a.viewerEdge.isAllowEdsEnabled,N=null!==(n=null==T?void 0:T.mediumMemberAt)&&void 0!==n&&n,R=null!==(t=null==a?void 0:a.viewerIsUser)&&void 0!==t&&t,A=(0,p.$)("entity_driven_subscription_milestone_1",a),C=R&&D&&N,L=null!==(r=null==a?void 0:a.name)&&void 0!==r?r:"",M=null!==(i=null==a?void 0:a.id)&&void 0!==i?i:"",_=s.useCallback((function(){k.event("entityDrivenSubCallToAction.clicked",{userId:null==T?void 0:T.id,entityId:null==a?void 0:a.id}),C&&S({message:"You're already a ".concat(O," member."),toastStyle:"MESSAGE"})}),[a,T,U]);s.useEffect((function(){D&&k.event("experiment.eligible",{experimentId:"65da28af5652"})}),[D]);var P=(0,w.Rk)((0,y.c5p)(U),{subscribeToUserId:M});return A?s.createElement("div",{className:I((function(e){var n;return n={borderTop:"4px solid ".concat(e.accentColor.border.normal),backgroundColor:e.baseColor.background.light},c()(n,b.xl(e),{padding:"38px",marginTop:"40px",marginBottom:"top"===l?"13px":"40px"}),c()(n,b.lg(e),{padding:"38px",marginTop:"40px",marginBottom:"top"===l?"13px":"40px"}),c()(n,b.md(e),{padding:"38px",marginTop:"32px",marginBottom:"top"===l?"5px":"40px"}),c()(n,b.sm(e),{padding:"24px 24px 28px 24px",marginTop:"32px",marginBottom:"top"===l?"5px":"40px"}),c()(n,b.xs(e),{padding:"24px 24px 28px 24px",marginTop:"32px",marginBottom:"top"===l?"5px":"40px"}),n}))},s.createElement(f.xu,null,s.createElement(v.X6,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},"Read everything from ",L," â€” and more.")),s.createElement(f.xu,{paddingTop:"10px",paddingBottom:"30px"},s.createElement(v.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},"Upgrade to Medium membership to directly support independent writers and get unlimited access to everything on Medium.")),s.createElement(f.xu,{display:"flex",flexDirection:"row"},s.createElement(f.zx,o()({onClick:_,buttonStyle:"STRONG"},N?void 0:{href:P}),"Become a member"),!T&&s.createElement(s.Fragment,null,s.createElement(v.F,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},color:"DARKER"},s.createElement(f.xu,{marginLeft:"12px",display:"flex",flexDirection:"column"},"Already a member?",s.createElement(m.R9,{operation:"login",linkStyle:"OBVIOUS",inline:!0,susiEntry:"entity_driven_subscription_cta"},"Sign In")))))):null},U=(0,l.Ps)(S(),p.G)},78221:(e,n,t)=>{"use strict";t.d(n,{k:()=>s,U:()=>p});var r=t(28655),i=t.n(r),a=t(71439),o=t(67294),u=t(8558),c=t(90038);function l(){var e=i()(["\n  fragment SequenceCoverImage_sequence on Sequence {\n    title\n    coverImage {\n      id\n    }\n  }\n"]);return l=function(){return e},e}function s(e){var n=e.sequence,t=e.width,r=e.height,i=n.title,a=n.coverImage;return a?o.createElement("div",null,o.createElement(u.UV,{miroId:a.id,alt:i||"Collection on Medium",width:t,height:r,strategy:c._S.Resample,freezeGifs:!1})):null}var p=(0,a.Ps)(l())},93258:(e,n,t)=>{"use strict";t.d(n,{d:()=>m});var r=t(63038),i=t.n(r),a=t(67294),o=t(885),u=t(34675),c=t(324),l=t(78181),s=t(28309),p=t(51064),d=t(534),m=function(e){var n=e.buttonSize,t=e.targetUserId,r=(0,p.O)(!1),m=i()(r,3),f=m[0],v=m[1],x=m[2],g=(0,s.Fg)(),h=(0,c.Uo)().baseTheme,E=(0,d.q3)(g,h),b=(0,u.Hk)().value;return b?a.createElement(s.f6,{theme:E},a.createElement(o.E,{targetUserId:t,viewerId:b&&b.id},(function(e){var t=e.mutate;return a.createElement(l.zx,{buttonStyle:f?"SUBTLE":"ERROR",onClick:t,size:n||"REGULAR",onMouseEnter:v,onMouseLeave:x},f?"Unblock":"Blocked")}))):null}},79208:(e,n,t)=>{"use strict";t.d(n,{Dm:()=>r,JA:()=>b});var r,i=t(63038),a=t.n(i),o=t(87757),u=t.n(o),c=t(48926),l=t.n(c),s=t(94301),p=t.n(s),d=t(67294),m=t(61250);!function(e){e[e.NONE=0]="NONE",e[e.STARTING=1]="STARTING",e[e.UPLOADING=2]="UPLOADING",e[e.UPLOADED=3]="UPLOADED"}(r||(r={}));var f=new Set(["jpg","jpeg","png","gif"]),v=function(e){return new Promise((function(n){return setTimeout(n,e)}))},x=function(){var e=l()(u().mark((function e(n,t){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()(n,{credentials:"same-origin",method:"POST",headers:{accept:"application/json","Content-Type":"application/json","x-xsrf-token":"1","X-Obvious-CID":"web"},body:JSON.stringify({url:t})});case 2:return r=e.sent,e.next=5,r.text();case 5:return i=e.sent,e.abrupt("return",JSON.parse(i.replace("])}while(1);</x>","")));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),g=function(){var e=l()(u().mark((function e(n,t){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("uploadedFile",t),e.next=4,p()(n,{credentials:"same-origin",method:"POST",headers:{"x-xsrf-token":"1","X-Obvious-CID":"web"},body:r});case 4:return i=e.sent,e.next=7,i.text();case 7:return a=e.sent,e.abrupt("return",JSON.parse(a.replace("])}while(1);</x>","")));case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),h="CreateUpload",E=new Error("Image upload failed. The URL you provided may be invalid."),b=function(e,n,t){var i=d.useState(r.NONE),o=a()(i,2),c=o[0],s=o[1],p=d.useRef(null),b=d.useCallback((function(){p.current&&p.current.click()}),[p.current]),w=(0,m.BS)(h),y=(0,m.BS)("CreateUploadUrl");function S(){return k.apply(this,arguments)}function k(){return(k=l()(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(r.STARTING),e.next=3,v(0);case 3:s(r.UPLOADING);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=l()(u().mark((function t(i){var a,o,c,l,p;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:if(t.prev=2,y){t.next=5;break}throw new Error("Expected ".concat(h," route to exist"));case 5:return t.next=7,x(y.pathPattern,i);case 7:o=t.sent,c=o.success,l=o.payload,c&&null!=l&&null!==(a=l.value)&&void 0!==a&&a.fileId?((p=new Image).onload=function(){s(r.UPLOADED),e(l,{url:i,height:p.height,width:p.width},(function(){return s(r.NONE)}))},p.onerror=function(){n(E)},p.src=i):n(E),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))).apply(this,arguments)}function U(e){return O.apply(this,arguments)}function O(){return(O=l()(u().mark((function i(a){var o,c,l,p,d,m,v,x;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=null==a?void 0:a[0]){i.next=3;break}return i.abrupt("return");case 3:if(c=o.name.split(".").pop(),f.has((null==c?void 0:c.toLowerCase())||"")){i.next=7;break}return t&&t(),i.abrupt("return");case 7:return i.next=9,S();case 9:if(i.prev=9,w){i.next=12;break}throw new Error("Expected ".concat(h," route to exist"));case 12:return i.next=14,g(w.pathPattern,o);case 14:p=i.sent,d=p.success,m=p.payload,d&&null!=m&&null!==(l=m.value)&&void 0!==l&&l.md5&&(v=URL.createObjectURL(o),(x=new Image).onload=function(){s(r.UPLOADED),e(m,{file:o,height:x.height,width:x.width},(function(){return s(r.NONE)}))},x.src=v),i.next=22;break;case 19:i.prev=19,i.t0=i.catch(9),n(i.t0);case 22:case"end":return i.stop()}}),i,null,[[9,19]])})))).apply(this,arguments)}function T(){U(this.files),this.value=""}return d.useEffect((function(){if(p.current)return p.current.addEventListener("change",T),function(){p.current&&p.current.removeEventListener("change",T)}}),[p.current]),{inputRef:p,fireClick:b,status:c,handleDropEvent:function(e){var n=e.dataTransfer;n&&U(n.files)},uploadUrl:function(e){return I.apply(this,arguments)}}}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/1938.187e9f26.chunk.js.map